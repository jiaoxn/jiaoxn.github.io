---
layout: post
title: Python基础知识之垃圾回收机制
categories: Python
---

本文简单介绍了Python语言中的垃圾回收机制<!-- more -->

Python中垃圾回收机制是**以引用计数为主，标记-清除和分代收集为辅**。标记-清除可以解决引用计数的缺陷-循环引用；分代收集以空间换时间的方法提高垃圾回收效率。

## 引用计数 ##

引用计数方法在对象内部维护了一个被其他对象引用数的引用计数值，当这个值为0时，说明这个对象不再被其他对象引用，可以被回收了。

### 引用计数加1的情况 ###

- 对象被创建，如：a = 1

- 对象被引用，如：b = a

- 对象作为参数被传入一个函数中，如：foo(a)

- 对象作为一个元素，存储在容器中，如：list([a])

### 引用计数减1的情况 ###

- 对象的别名被销毁，如：del a

- 对象的别名被赋予新的对象，如：a = 24

- 一个对象离开它的作用域，如：函数内部变量在函数执行完毕时

- 对象所在的容器被销毁或从容器中删除对象

### 引用计数的优点 ###

- 高效

- 运行期没有停顿

- 对象有确定的生命周期

- 易于实现

### 引用计数的缺点 ###

- 无法解决循环引用的问题

- 维护引用计数的次数和引用赋值成正比